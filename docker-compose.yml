services:
  kronic:
    build:
      context: .
      target: dev
    environment:
      KRONIC_ALLOW_NAMESPACES: ""
      KRONIC_ADMIN_PASSWORD: "test2"
      KUBECONFIG: "/home/kronic/.kube/config"
    volumes:
      - .:/app
      # Mount the entire .kube directory for proper kubernetes configuration
      - $HOME/.kube:/home/kronic/.kube
    ports:
      - 5001:5000
    # networks:
    #   - k3d-kronic-localdev

# networks:
#   k3d-kronic-localdev:
#     external: true
